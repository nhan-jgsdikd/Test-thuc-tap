<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{/Nva/Layout :: view(~{::main})}">
<head>
    <title>Admin - Qu·∫£n l√Ω nh√¢n s·ª±</title>
</head>
<body>
    <main th:fragment="content">
        <div class="container-fluid mt-4">
            <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="/src/main/resources/static/css/companystaff.css">
</head>
<body>
    <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', sans-serif;
  }
  
  body {
    display: flex;
    height: 100vh;
    color: #333;
  }
  
  .container {
    display: flex;
    width: 100%;
  }
  
  .sidebar {
    width: 220px;
    background: #2d2d2d;
    color: #fff;
    padding: 20px;
  }
  
  .sidebar .logo {
    font-weight: bold;
    font-size: 18px;
    margin-bottom: 20px;
  }
  
  .sidebar ul {
    list-style: none;
  }
  
  .sidebar li {
    padding: 10px 0;
    cursor: pointer;
    border-left: 4px solid transparent;
    padding-left: 10px;
  }
  
  .sidebar li.active,
  .sidebar li:hover {
    background: #444;
    border-left: 4px solid #4fc3f7;
  }
  
  .main-content {
    flex: 1;
    background: #f5f7fa;
    padding: 20px;
  }
  
  .topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #007bff;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  
  .logo-test {
    font-weight: bold;
    font-size: 20px;
  }
  
  .active a{
    margin-top: auto;
    color: #fff;
    font-weight: bold;
    text-decoration: none;
  }
  .table img{
    width: 100px;
    height: 100px;
    border-radius: 10px;
  }

    </style>
  <div class="container">
    <aside class="sidebar">
      <div class="mb-4"><i class="fas fa-user-shield"></i> <a href="/Admin">Trang qu·∫£n tr·ªã</a></div>
      <nav>
        <ul class="active">
          <li><a href="/Admin/employees">Qu·∫£n l√Ω nh√¢n s·ª±</a></li>
          <li><a href="/Admin/edit-employee">Ch·ªânh s·ª≠a nh√¢n vi√™n</a></li>
          <li><a href="/Admin/Attendance">Qu·∫£n l√Ω Ch·∫•m c√¥ng</a></li>
          <li><a href="/AdminAttendanceDetail">Chi ti·∫øt Ch·∫•m c√¥ng</a></li>
          <li><a href="/AdminPayroll">Qu·∫£n l√Ω L∆∞∆°ng</a></li>
          <li><a href="/AdminPayrollDetail">Chi ti·∫øt b·∫£ng l∆∞∆°ng</a></li>
          <li><a href="/AdminPayrollDetail">Ch·ªânh s·ª≠a b·∫£ng l∆∞∆°ng</a></li>
          <li><a href="/AdminWorkSchedule">Qu·∫£n l√Ω gi·ªù l√†m vi·ªác</a></li>
          <li><a href="/AdminWorkScheduleDetail">Chi ti·∫øt gi·ªù l√†m vi·ªác</a></li>
        </ul>
      </nav>
    </aside>
    <main class="main-content">
      <header class="topbar">
        <div class="company-info">
          <span class="name" style="font-weight: bold;">AZ</span>
          <span>Media</span>
        </div>
        <div class="logo-test">Testthuctap</div>
      </header>
      <div class="card-header" style="float: right; margin-bottom: 10px;">
        <a th:href="@{/Admin/employees/add}" class="btn btn-success btn-sm">
            <i class="fas fa-plus"></i> Th√™m m·ªõi
        </a>
    </div>
      <table class="table table-bordered table-striped table-hover align-middle mt-3">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>H·ªç v√† t√™n</th>
            <th>·∫¢nh</th>
            <th>Email</th>
            <th>Ch·ª©c v·ª•</th>
            <th>S·ªë ƒëi·ªán tho·∫°i</th>
            <th>ƒê·ªãa ch·ªâ</th>
            <th>Ng√†y sinh</th>
            <th>Role</th>
            <th colspan="3" class="text-center">H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${employees}">
                <td th:text="${user.ID} ?: 'Ch∆∞a c·∫≠p nh·∫≠t'"></td>
                <td th:text="${user.fullName} ?: 'Ch∆∞a c·∫≠p nh·∫≠t'"></td>
                <td th:text="${user.Avatar} ?: 'Ch∆∞a c·∫≠p nh·∫≠t'"></td>
                <td th:text="${user.email} ?: 'N/A'"></td>
                <td th:text="${user.position?.positionName} ?: 'Ch∆∞a x√°c ƒë·ªãnh'"></td>
                <td th:text="${user.phone} ?: 'N/A'"></td>
                <td th:text="${user.addess} ?: 'Ch∆∞a c·∫≠p nh·∫≠t''"></td>
                <td th:text="${#temporals.format(user.hireDate, 'dd/MM/yyyy')} ?: 'N/A'"></td>
                <td th:text="${user.Role} ?: 'Ch∆∞a c·∫≠p nh·∫≠t''"></td>
                <td>
                    <a th:href="@{/Admin/employees/edit/{id}(id=${user.id})}" 
                    class="btn btn-primary btn-sm"
                    title="üëÅ Xem">
                     <i class="fas fa-edit">üëÅ Xem</i>
                 </a>
                </td>
                <td>
                    <a th:href="@{/Admin/employees/edit/{id}(id=${user.id})}" 
                       class="btn btn-primary btn-sm"
                       title="‚úèÔ∏è S·ª≠a">
                        <i class="fas fa-edit">‚úèÔ∏è S·ª≠a</i>
                    </a>
                    
                    <!-- Form x√≥a ·∫©n -->
                    <form th:action="@{/Admin/employees/delete/{id}(id=${user.id})}" 
                          method="post"
                          style="display: inline-block;"
                                              onsubmit="return confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a?');">
                                            <button type="submit" 
                                                    class="btn btn-danger btn-sm ml-1"
                                                    title="üóë X√≥a">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            </tbody>
      </table>
    </main>
</div>
</html>